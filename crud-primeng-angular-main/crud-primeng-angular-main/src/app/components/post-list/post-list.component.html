<div class="list-container">
  <div class="header-section">
    <div class="header-content">
      <div class="title-section">
        <div class="title-icon">
          <i class="pi pi-list"></i>
        </div>
        <div class="title-text">
          <h2 class="main-title">Lista de Postagens</h2>
          <p class="subtitle">Gerencie todas as suas postagens</p>
        </div>
      </div>
      
      <button pButton label="Nova Postagem" icon="pi pi-plus" 
              class="p-button-sm p-button-success new-post-btn" 
              (click)="onCriar()">
      </button>
    </div>
  </div>

  <div class="content-section">
    <p-table [value]="posts" *ngIf="posts.length > 0" class="custom-table">
      <ng-template pTemplate="header">
        <tr>
          <th>Título</th>
          <th>Conteúdo</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-post>
        <tr [ngClass]="{'indisponivel': !post.publicado}">
          <td>{{ post.titulo }}</td>
          <td>{{ post.conteudo | slice:0:50 }}{{ post.conteudo.length > 50 ? '...' : '' }}</td>
          <td>
            <p-tag [value]="post.publicado ? 'Publicado' : 'Rascunho'"
                   [severity]="post.publicado ? 'success' : 'warning'">
            </p-tag>
          </td>
          <td>
            <div class="action-buttons">
              <button pButton icon="pi pi-eye" 
                      class="p-button-sm p-button-info action-btn view-btn" 
                      pTooltip="Visualizar detalhes" tooltipPosition="top"
                      (click)="onVisualizar(post)"></button>
              <button pButton icon="pi pi-pencil" 
                      class="p-button-sm p-button-warning action-btn edit-btn" 
                      pTooltip="Editar postagem" tooltipPosition="top"
                      (click)="onEditar(post)"></button>
              <button pButton icon="pi pi-trash" 
                      class="p-button-sm p-button-danger action-btn delete-btn" 
                      pTooltip="Excluir postagem" tooltipPosition="top"
                      (click)="onExcluir(post.id!)"></button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <div *ngIf="posts.length === 0" class="empty-state">
      <div class="empty-icon">
        <i class="pi pi-inbox"></i>
      </div>
      <h3 class="empty-title">Nenhuma postagem cadastrada</h3>
      <p class="empty-description">Comece criando sua primeira postagem clicando no botão "Nova Postagem"</p>
      <button pButton label="Criar Primeira Postagem" icon="pi pi-plus" 
              class="p-button-success empty-action-btn" 
              (click)="onCriar()">
      </button>
    </div>
  </div>
</div>
